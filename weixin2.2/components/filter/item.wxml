<!--components/mall/filter/item.wxml-->
<view class='filter-wrap'>
  <scroll-view class='filter-data-list' scroll-y>
    <view class='panel' wx:for="{{filterList}}" wx:key="{{index}}">
      <view class='panel-header'>
        <text>{{item.name}}</text>
        <view class="down {{currentIndex == index && isOpen?'open':''}}" data-index="{{index}}" bindtap='togglePanel'>
        <image src="{{downIcon}}"></image>
        </view>
      </view>
      <view class="panel-body {{currentIndex == index && isOpen?'open':''}}">
        <view class='list'>
          <view class='item on'>不限</view>
          <view class='item' wx:for="{{item.list}}" wx:for-index="dindex" wx:for-item="ditem" wx:key="{{dindex}}">
            {{ditem.name}}
          </view>
        </view>
      </view>
    </view>

    <view class='panel'>
      <view class='panel-header'>
        <text>价格</text>
      </view>
      <view class="panel-body">
        <view class='list'>
          <view class='item on'>不限</view>
          <view class='price'>
            <input type="digit"/>
            <text> — </text>
            <input type="digit"/>
          </view>
        </view>
      </view>
    </view>

    <view class='panel panel-area' wx:if="{{displayType == 'budget'}}">
      <view class='panel-header'>
        <text>默认筛选</text>
        <checkbox-group bindchange="selectDefault">
          <label class="checkbox">
            <checkbox value="1" checked="{{selected}}" color="#ff6600"/>
          </label>
        </checkbox-group>
      </view>
      <view class="panel-body" bindtap='getAreaFocus'>
        <view class='text-area'>
          <input bindinput="bindTextAreaInput" bindblur="bindTextAreaBlur" focus='{{focusArea}}' placeholder='后台配置文字' value='' maxlength="-1" value='{{filterVal}}' wx:if="{{focusArea || !filterVal}}"></input>
          <view class='area-content' wx:else>{{filterVal}}</view>
        </view>
      </view>
    </view>
  </scroll-view>
  <view class='action-box'>
    <view><button class='reset'>重置</button></view>
    <view><button class='submit'>确定</button></view>
  </view>
</view>
